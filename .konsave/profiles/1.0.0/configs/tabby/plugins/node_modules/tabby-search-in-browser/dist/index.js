!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("tabby-core"),require("@angular/core"),require("tabby-settings"),require("@angular/common"),require("@angular/forms"),require("ngx-toastr"));else if("function"==typeof define&&define.amd)define(["tabby-core","@angular/core","tabby-settings","@angular/common","@angular/forms","ngx-toastr"],t);else{var r="object"==typeof exports?t(require("tabby-core"),require("@angular/core"),require("tabby-settings"),require("@angular/common"),require("@angular/forms"),require("ngx-toastr")):t(e["tabby-core"],e["@angular/core"],e["tabby-settings"],e["@angular/common"],e["@angular/forms"],e["ngx-toastr"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(global,(function(e,t,r,n,o,i){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([
/*!*****************************!*\
  !*** external "tabby-core" ***!
  \*****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,r){t.exports=e},
/*!********************************!*\
  !*** external "@angular/core" ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,r){e.exports=t},
/*!**************************************!*\
  !*** ./src/interfaces/interfaces.ts ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_ENGINES=t.SEARCH_IN_BROWSER_HOTKEYS=void 0,function(e){e.SEARCH_IN_BROWSER="search-in-browser"}(t.SEARCH_IN_BROWSER_HOTKEYS||(t.SEARCH_IN_BROWSER_HOTKEYS={})),function(e){e.GOOGLE="www.google.com",e.YAHOO="www.search.yahoo.com",e.BING="www.bing.com",e.DUCKDUCKGO="www.duckduckgo.com"}(t.SEARCH_ENGINES||(t.SEARCH_ENGINES={}))},
/*!***************************************************!*\
  !*** ./src/services/search-in-browser.service.ts ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInBrowserService=void 0;const i=r(/*! tabby-core */0),c=r(/*! ../interfaces/interfaces */2),s=r(/*! @angular/core */1);let a=class{constructor(e,t,r,n){this.appSerivce=e,this.hotkeyService=t,this.platformService=r,this.configService=n}init(){this.hotkeyService.hotkey$.subscribe(e=>{if(e===c.SEARCH_IN_BROWSER_HOTKEYS.SEARCH_IN_BROWSER){const e=this.searchForSelections();if(e.length)for(const t of e)this.openSelectedTextInBrowser(t)}})}openSelectedTextInBrowser(e){const t=this.configService.store.searchInBrowserPlugin.defaultEngine,r=`https://${t||c.SEARCH_ENGINES.GOOGLE}/${t===c.SEARCH_ENGINES.DUCKDUCKGO?"":"search"}?q=${e}`;this.platformService.openExternal(r)}getSelectedText(e){var t;return null===(t=e.frontend)||void 0===t?void 0:t.getSelection()}searchForSelections(){const e=this.appSerivce.activeTab.root,t=[];if(e)for(const r of e.children){const e=this.getSelectedText(r);e&&t.push(e)}return t}};a=n([(0,s.Injectable)({providedIn:"root"}),o("design:paramtypes",[i.AppService,i.HotkeysService,i.PlatformService,i.ConfigService])],a),t.SearchInBrowserService=a},
/*!****************************************************************!*\
  !*** ./src/components/search-in-browser-settings.component.ts ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInBrowserSettingsComponent=void 0;const i=r(/*! @angular/core */1),c=r(/*! tabby-core */0),s=r(/*! ../interfaces/interfaces */2);let a=class{constructor(e){this.config=e,this.engines=s.SEARCH_ENGINES}getEngines(){return Object.values(this.engines)}};a=n([(0,i.Component)({template:r(/*! ./search-in-browser-settings.component.pug */13)}),o("design:paramtypes",[c.ConfigService])],a),t.SearchInBrowserSettingsComponent=a},
/*!*********************************!*\
  !*** external "tabby-settings" ***!
  \*********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=r},
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const i=r(/*! tabby-core */0),c=r(/*! @angular/common */7),s=r(/*! @angular/forms */8),a=r(/*! @angular/core */1),u=r(/*! ./config-provider */9),f=r(/*! ./context-menu-provider */10),l=r(/*! ./hotkey-provider */11),d=r(/*! ./services/search-in-browser.service */3),p=r(/*! ./settings */12),h=r(/*! ./components/search-in-browser-settings.component */4),v=r(/*! tabby-settings */5),g=r(/*! ngx-toastr */17);let S=class{constructor(e){this.searchInBrowserService=e,this.searchInBrowserService.init()}};S=n([(0,a.NgModule)({imports:[c.CommonModule,g.ToastrModule,s.FormsModule],providers:[{provide:i.HotkeyProvider,useClass:l.SearchInBrowserHotkeyProvider,multi:!0},{provide:i.TabContextMenuItemProvider,useClass:f.SearchInBrowserContextMenuProvider,multi:!0},{provide:i.ConfigProvider,useClass:u.SearchInBrowerProvider,multi:!0},{provide:v.SettingsTabProvider,useClass:p.SearchInBrowserSettingProvider,multi:!0}],entryComponents:[h.SearchInBrowserSettingsComponent],declarations:[h.SearchInBrowserSettingsComponent]}),o("design:paramtypes",[d.SearchInBrowserService])],S),t.default=S},
/*!**********************************!*\
  !*** external "@angular/common" ***!
  \**********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=n},
/*!*********************************!*\
  !*** external "@angular/forms" ***!
  \*********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=o},
/*!********************************!*\
  !*** ./src/config-provider.ts ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInBrowerProvider=void 0;const n=r(/*! ./interfaces/interfaces */2),o=r(/*! tabby-core */0);class i extends o.ConfigProvider{constructor(){super(...arguments),this.defaults={searchInBrowserPlugin:{defaultEngine:n.SEARCH_ENGINES.GOOGLE},hotkeys:{[n.SEARCH_IN_BROWSER_HOTKEYS.SEARCH_IN_BROWSER]:[]}}}}t.SearchInBrowerProvider=i},
/*!**************************************!*\
  !*** ./src/context-menu-provider.ts ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function c(e){try{a(n.next(e))}catch(e){i(e)}}function s(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,s)}a((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInBrowserContextMenuProvider=void 0;const c=r(/*! tabby-core */0),s=r(/*! @angular/core */1),a=r(/*! ./services/search-in-browser.service */3);let u=class extends c.TabContextMenuItemProvider{constructor(e){super(),this.searchInBrowserSerivce=e}getItems(e){return i(this,void 0,void 0,(function*(){let t=[];const r=this.searchInBrowserSerivce.getSelectedText(e);return r&&(t=[{label:"Search with Browser",click:()=>{this.searchInBrowserSerivce.openSelectedTextInBrowser(r)}}]),t}))}};u=n([(0,s.Injectable)(),o("design:paramtypes",[a.SearchInBrowserService])],u),t.SearchInBrowserContextMenuProvider=u},
/*!********************************!*\
  !*** ./src/hotkey-provider.ts ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function c(e){try{a(n.next(e))}catch(e){i(e)}}function s(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,s)}a((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInBrowserHotkeyProvider=void 0;const i=r(/*! tabby-core */0),c=r(/*! @angular/core */1),s=r(/*! ./interfaces/interfaces */2);let a=class extends i.HotkeyProvider{provide(){return o(this,void 0,void 0,(function*(){return[{id:s.SEARCH_IN_BROWSER_HOTKEYS.SEARCH_IN_BROWSER,name:"Search with Browser"}]}))}};a=n([(0,c.Injectable)()],a),t.SearchInBrowserHotkeyProvider=a},
/*!*************************!*\
  !*** ./src/settings.ts ***!
  \*************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInBrowserSettingProvider=void 0;const o=r(/*! @angular/core */1),i=r(/*! ./components/search-in-browser-settings.component */4),c=r(/*! tabby-settings */5);let s=class extends c.SettingsTabProvider{constructor(){super(...arguments),this.id="search-in-browser",this.icon="search",this.title="Search in browser"}getComponentType(){return i.SearchInBrowserSettingsComponent}};s=n([(0,o.Injectable)()],s),t.SearchInBrowserSettingProvider=s},
/*!*****************************************************************!*\
  !*** ./src/components/search-in-browser-settings.component.pug ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){var n=r(/*! !./node_modules/pug-loader!./src/components/search-in-browser-settings.component.pug */14);e.exports=(n.default||n).apply(n,[])},
/*!*******************************************************************************************!*\
  !*** ./node_modules/pug-loader!./src/components/search-in-browser-settings.component.pug ***!
  \*******************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){r(/*! ../../node_modules/pug-runtime/index.js */15);e.exports=function(e){var t="";return t+='<h3>Search in browser</h3><div class="form-line"><div class="header"><div class="title">Search engine</div><div class="description">Select defualt search engine</div></div><select class="form-control" [(ngModel)]="config.store.searchInBrowserPlugin.defaultEngine" (ngModelChange)="config.save()"><option [ngValue]="engine" *ngFor="let engine of getEngines()">{{engine}}</option></select></div>'}},
/*!*******************************************!*\
  !*** ./node_modules/pug-runtime/index.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return Array.isArray(e)?function(e,t){for(var r,n="",i="",c=Array.isArray(t),s=0;s<e.length;s++)(r=o(e[s]))&&(c&&t[s]&&(r=a(r)),n=n+i+r,i=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",r="";for(var o in e)o&&e[o]&&n.call(e,o)&&(t=t+r+o,r=" ");return t}(e):e||""}function i(e){if(!e)return"";if("object"==typeof e){var t="";for(var r in e)n.call(e,r)&&(t=t+r+":"+e[r]+";");return t}return e+""}function c(e,t,r,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var o=typeof t;return"object"!==o&&"function"!==o||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),r||-1===t.indexOf('"'))?(r&&(t=a(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,r){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=e(n,t[o]);return n}for(var c in r)if("class"===c){var s=t[c]||[];t[c]=(Array.isArray(s)?s:[s]).concat(r[c]||[])}else if("style"===c){s=(s=i(t[c]))&&";"!==s[s.length-1]?s+";":s;var a=i(r[c]);a=a&&";"!==a[a.length-1]?a+";":a,t[c]=s+a}else t[c]=r[c];return t},t.classes=o,t.style=i,t.attr=c,t.attrs=function(e,t){var r="";for(var s in e)if(n.call(e,s)){var a=e[s];if("class"===s){a=o(a),r=c(s,a,!1,t)+r;continue}"style"===s&&(a=i(a)),r+=c(s,a,!1,t)}return r};var s=/["&<>]/;function a(e){var t=""+e,r=s.exec(t);if(!r)return e;var n,o,i,c="";for(n=r.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==n&&(c+=t.substring(o,n)),o=n+1,c+=i}return o!==n?c+t.substring(o,n):c}t.escape=a,t.rethrow=function e(t,n,o,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||i))throw t.message+=" on line "+o,t;var c,s,a,u;try{i=i||r(/*! fs */16).readFileSync(n,{encoding:"utf8"}),c=3,s=i.split("\n"),a=Math.max(o-c,0),u=Math.min(s.length,o+c)}catch(r){return t.message+=" - could not read from "+n+" ("+r.message+")",void e(t,null,o)}c=s.slice(a,u).map((function(e,t){var r=t+a+1;return(r==o?"  > ":"    ")+r+"| "+e})).join("\n"),t.path=n;try{t.message=(n||"Pug")+":"+o+"\n"+c+"\n\n"+t.message}catch(e){}throw t}},
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=require("fs")},
/*!*****************************!*\
  !*** external "ngx-toastr" ***!
  \*****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=i}])}));
//# sourceMappingURL=index.js.map